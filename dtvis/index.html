<!DOCTYPE html>
<!-- saved from url=(0073)https://bl.ocks.org/timelyportfolio/raw/34296462d01cc80915d1f01431723763/ -->
<html style="width: 100%; height: 100%;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/graph.css" rel="stylesheet">
    <link href="css/zoom.css" rel="stylesheet">
    <link href="css/button.css" rel="stylesheet">
    <link href="css/tooltip.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src='js/d3.min.js'></script>
    <script src="js/bar.js"></script>
    <script src="js/decision-paths.js"></script>
    <script src='js/d3-tip.js'></script>
    <script src="js/sankey.js"></script>

</head>

<style>
    .bar {
        fill: steelblue;
    }

    .bar:hover {
        fill: brown;
    }

    div.sorter_barChart {
        width: 800px;
        text-align: center;
        display: inline-block;
        margin-left: auto;
        margin-right: auto;
    }

    .fixedTop {
        background-color: #FFFFFF;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
    }

    body {
        padding-top: 50px;
    }

    #decision_path_tab table,
    #description_tab table,
    .tooltip-table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    #decision_path_tab td,
    #decision_path_tab th,
    #description_tab td,
    #description_tab th,
        {
        border: 1px solid black;
        text-align: left;
        padding: 10px;
    }

    .tooltip-table td,
    .tooltip-table th {
        border: 1px solid white;
        text-align: left;
        padding: 10px;
    }

    #description_tab tr:nth-child(even),
    #decision_path_tab tr:nth-child(even) {
        background-color: #dddddd;
    }

</style>

</head>

<body style="background-color:white;">


    <div class="tabbable">
        <ul class="nav nav-tabs fixedTop">
            <li><a href="#about_tab" data-toggle="tab">About</a></li>
            <li><a class="dtab" href="#description_tab" data-toggle="tab">Description</a></li>
            <li class="active"><a href="#sankey_tab" data-toggle="tab">Decision Tree</a></li>
            <li><a href="#barplot_tab" data-toggle="tab">Feature Importance</a></li>
            <li><a href="#decision_path_tab" data-toggle="tab">Decision Path</a></li>

        </ul>
        <div class="tab-content">

            <div class="tab-pane" id="description_tab">
                <h1> Features Description </h1>

                <table style="width:70%" style="text-align:center;">
                    <tr>
                        <th>Variable Name</th>
                        <th>Feature</th>
                        <th>Feature Values</th>
                    </tr>

                    <tr>
                        <th>x.imprace</th>
                        <th>Imputed race/ethnicity value</th>
                        <th>
                            <li>1-White,non-Hispanic</li>
                            <li>2-Black,non-Hispanic</li>
                            <li>3-Asian,non-Hispanic</li>
                            <li>4-American Indian/Alaskan Native, non-Hispanic</li>
                            <li>5-Hispanic</li>
                            <li>6-Other race,non-Hispanic</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.impeduc</th>
                        <th>Imputed Education Level</th>
                        <th>
                            <li>1-Never attend school or only kindergarten</li>
                            <li>2-Elementary</li>
                            <li>3-Some high school</li>
                            <li>4-High school graduate</li>
                            <li>5-College 1-3 years</li>
                            <li>6-College graduate</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.impmrtl</th>
                        <th>Imputed Marital Status</th>
                        <th>
                            <li>1-Married</li>
                            <li>2-Divorced</li>
                            <li>3-Widowed</li>
                            <li>4-Separated</li>
                            <li>5-Never married</li>
                            <li>6-A member of an unmarried couple</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.impcsex</th>
                        <th>Imputed Child Gender</th>
                        <th>
                            <li>1-Male</li>
                            <li>2-Female</li>
                            <li>123456789-Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.asthms1</th>
                        <th>Computed asthma status</th>
                        <th>
                            <li>1-Current</li>
                            <li>2-Former</li>
                            <li>3-Never</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.incomg</th>
                        <th>Income categories</th>
                        <th>
                            <li>1-Less than $15,000</li>
                            <li>2-$15,000 to less than $25,000</li>
                            <li>3-$25,000 to less than $35,000</li>
                            <li>4-$35,000 to less than $50,000</li>
                            <li>5-$50,000 or more</li>
                            <li>123456789-Don’t know/Not sure/Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.rfseat3</th>
                        <th>Always Wear Seat Belts Calculated Variable</th>
                        <th>
                            <li>1-Always Wear Seat Belt</li>
                            <li>2-Don’t Always Wear Seat Belt</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.flshot6 </th>
                        <th>Adults aged 65+ who have had a flu shot within the past year</th>
                        <th>
                            <li>1-Yes</li>
                            <li>2-No</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.pneumo2</th>
                        <th>Adults aged 65+ who have ever had a pneumonia vaccination</th>
                        <th>
                            <li>1-Yes</li>
                            <li>2-No</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.bmi5cat</th>
                        <th>Four-categories of Body Mass Index (BMI)</th>
                        <th>
                            <li>1-Underweight</li>
                            <li>2-Normal weight</li>
                            <li>3-Overweight</li>
                            <li>4-Obese</li>
                            <li>123456789-Don’t know/Refused/Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.rfmam2y</th>
                        <th>Women respondents aged 40+ who have had a mammogram in the past two years</th>
                        <th>
                            <li>1-Yes</li>
                            <li>2-No</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.denvst2</th>
                        <th>Adults who have visited a dentist, dental hygenist or dental clinic within the past year</th>
                        <th>
                            <li>1-Yes</li>
                            <li>2-No</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.rfsmok3</th>
                        <th>Adults who are current smokers</th>
                        <th>
                            <li>1-Yes</li>
                            <li>2-No</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>sleptim1</th>
                        <th>Average sleep hours per day</th>
                        <th>
                            <li>1-24: Number of hours</li>
                            <li>123456789-Don't know/ Not sure or refused/ Missing</li>
                        </th>
                    </tr>

                    <tr>
                        <th>x.age80</th>
                        <th>Imputed Age value collapsed above 80</th>
                        <th></th>
                    </tr>

                    <tr>
                        <th>x.impnph</th>
                        <th>Imputed number of phones used in weighting</th>
                        <th></th>
                    </tr>

                    <tr>
                        <th>htin4</th>
                        <th>Reported height in inches</th>
                        <th></th>
                    </tr>

                    <tr>
                        <th>wtkg3</th>
                        <th>Reported weight in kilograms [2 implied decimal places]</th>
                        <th></th>
                    </tr>

                    <tr>
                        <th>drocdy3</th>
                        <th>Drink-occasions-per-day</th>
                        <th></th>
                    </tr>

                    <tr>
                        <th>x.drnkmo4</th>
                        <th>Calculated total number of alcoholic beverages consumed per month</th>
                        <th></th>
                    </tr>
                </table>


            </div>

            <div class="tab-pane active" id="sankey_tab">

                <p>Click on the node to collapse and expand the tree and go to other tabs for more comparison</p>
                <div id="decision_tree_container" style="width:1440px;height:750px">
                    <div id="decision-tree" class="sankeytree" style="width:1440px;height:750px;">
                    </div>
                </div>


            </div>
            <div class="tab-pane" id="barplot_tab">
                <div class="sorter_barChart">
                    </br>
                    <strong>Sort Feature Importance By</strong>
                    </br>
                    <button type="button" class="sort-button" autofocus="autofocus" id="button_alphabetic">Alphabetic</button>
                    <button type="button" class="sort-button" id="button_ranking">Ranking</button>
                </div>
                <br>
                <svg id="barplot_container" width="800" height="600"></svg>
            </div>

            <div class="tab-pane" id="decision_path_tab">
                <div class="container" id="decision_path_container">


                    <div class="form-group">
                        <label for="sel1">Sort Decision Path By</label>
                        <select class="form-control" id="table-sorter" width="100px"></select>
                    </div>

                    <div class="table-responsive">
                        <table class="table" id="decision-path-table" width="100%">

                        </table>
                    </div>
                </div>

            </div>

            <div class="tab-pane" id="about_tab">
                <div class="container">
                    <h2> Visualizing Scikit-learn Decision Trees </h2>
                    <p>An interactive visualization of decision trees which clearly highlights important features while allowing an analyst to select different branches for more specific information on the features leading to that result.</p>
                    <br/>
                    <label>Objective</label>
                    <p>Our project aims to assist analysts in using these trees by providing visual information on:</p>
                    <ul>
                        <li>highlighting most important variables in a dataset,</li>
                        <li>explaining predictions</li>
                        <li>exploring interactions between features</li>
                        <li>visualizing the decision function</li>
                        <li>demonstrating the model to business partners</li>
                    </ul>
                    <br/>
                    <label>Audience</label>
                    <p>Data scientists using scikit-learn.</p>
                    <br/>
                    <label>Dataset</label>
                    <p><a href="https://www.cdc.gov/brfss/annual_data/2014/pdf/codebook14_llcp.pdf">U.S. Behavioral Risk Factor Surveillance System Report</a></p>
                    <p>Demographic and health information features used to predict whether or not an individual has been tested for AIDS.</p>
                    <ul>
                        <li>418,626 records</li>
                        <li>240 fields</li>
                        <li>117,007 positive samples (after data cleansing)</li>
                        <li>301,619 negative samples (after data cleansing)</li>
                    </ul>
                    <br/>
                    <label>Team Members</label>
                    <p>Adam Lenart</p>
                    <ul>
                        <li>alenart@ischool.berkeley.edu</li>
                    </ul>
                    <p>Tingwen Bao</p>
                    <ul>
                        <li>tingwenbao@berkeley.edu</li>
                    </ul>
                    <p>Nic Vogler</p>
                    <ul>
                        <li>nvogler@berkeley.edu</li>
                    </ul>
                </div>
            </div>




        </div>
    </div>
<script>

    
                    data = [];
                    d3.json('data/d3tree_data.json', function (json) {
                        data = json;
                        // Draw Sankey
                        sankeyInit('#decision-tree','1440px','750px');
                        drawSankey('#decision-tree', data.x);
                        // Draw barplot
                        drawBarplot(keepImportant(data));
                        sortFeature(keepImportant(data));

                        //Decision paths
                        addDecisionPathSortOptions(data);
                        drawDecisionPathTable(data);


                    });
</script>



</body>

</html>
